/*
	jQuery Extended Mag(nify)
	Author: Caleb O'Leary
	Site: http://caleboleary.com
	Current Version: https://github.com/caleboleary/jQuery-Extended-Mag
	MIT License
*/
!function(b){"use strict";b.fn.extend({extm:function(t){var e={zoomElement:!1,imageSrc:b(this).attr("src"),squareOverlay:!1,position:!1,rightPad:0,lazy:!1,zoomLevel:1,zoomSize:!1,loadingText:!1,loadingImage:!1},i=b.extend({},e,t||{});function o(t,e){var i,o,s,n,r,h,d,c,p,u,m,v,g,f,a=e.width(),l=e.height(),y=e.offset();t.zoomElement?i=t.zoomElement:(i=b("<div style='overflow:hidden;pointer-events:none;height:"+l+"px;width:"+a+"px;' class='extm'></div>"),"right"===t.position?(i.appendTo(b("body")),i.css("position","absolute"),i.css("top",y.top),i.css("left",y.left+a+t.rightPad)):"overlay"===t.position?(i.appendTo(b("body")),i.css("position","absolute"),i.css("top",y.top),i.css("left",y.left)):i.insertAfter(e)),t.squareOverlay&&(o=b("<div class='overlayElement' style='pointer-events:none;height:"+l+"px;width:"+a+"px;position:absolute;top:"+y.top+"px;left:"+y.left+"px;'></div>"),b("body").append(o),s=b("<div style='background-color:rgba(0,0,0,0.2);position:absolute;' class='innerOverlay'></div>"),o.append(s)),t.lazy||(i.css("visibility","hidden"),t.squareOverlay&&s.css("visibility","hidden")),n=b(t.zoomSize?'<img style="position:relative;max-width:none;width:'+t.zoomSize+'px;">':1!==t.zoomLevel?'<img style="position:relative;max-width:none;width:'+100*t.zoomLevel+'%;">':'<img style="position:relative;max-width:none;">'),t.imageSrc?n.attr("src",t.imageSrc):n.attr("src",e.attr("src")),n.appendTo(i),r=e,h=i,d=n,c=o,p=l,u=a,m=y,v=s,(g=t).loadingText?(f=b("<div class='loadingElement' style='pointer-events:none;height:"+p+"px;width:"+u+"px;font-family:sans-serif;position:absolute;top:"+m.top+"px;left:"+m.left+"px;visibility:hidden;background:rgba(255,255,255,0.5);color:black;font-size:2em;font-weight:bold;text-align:center;'><p style='position: absolute; left: 50%;top: 50%;transform: translate(-50%, -50%);'>"+g.loadingText+"</p></div>"),b("body").append(f),r.on("mouseenter touchstart",function(){f.css("visibility","visible")}),r.on("mouseleave touchend",function(){f.css("visibility","hidden")}),r.is(":hover")&&r.trigger("mouseenter")):g.loadingImage&&(f=b("<div class='loadingElement' style='pointer-events:none;height:"+p+"px;width:"+u+"px;font-family:sans-serif;position:absolute;top:"+m.top+"px;left:"+m.left+"px;visibility:hidden;background:rgba(255,255,255,0.5);color:black;font-size:2em;font-weight:bold;text-align:center;'><img style='position: absolute; left: 50%;top: 50%;transform: translate(-50%, -50%);' src='"+g.loadingImage+"'/></div>"),b("body").append(f),r.on("mouseenter touchstart",function(){f.css("visibility","visible")}),r.on("mouseleave touchend",function(){f.css("visibility","hidden")}),r.is(":hover"))&&r.trigger("mouseenter"),d.load(function(){(g.loadingText||g.loadingImage)&&(r.trigger("mouseleave"),r.unbind("mouseenter mouseleave touchstart touchend"),f.remove()),r.on("mouseenter touchstart",function(t){"touchstart"===t.type&&b("body").css("overflow","hidden"),m=r.offset(),"right"===g.position?(h.css("top",m.top),h.css("left",m.left+u+g.rightPad)):"overlay"===g.position&&(h.css("top",m.top),h.css("left",m.left)),g.squareOverlay&&(c.css("top",m.top),c.css("left",m.left)),h.css("visibility","visible"),g.squareOverlay&&v.css("visibility","visible")}),r.on("mouseleave touchend",function(t){"touchend"===t.type&&b("body").css("overflow",""),h.css("visibility","hidden"),g.squareOverlay&&v.css("visibility","hidden")}),r.is(":hover")&&r.trigger("mouseenter");var t=d.width(),e=d.height(),s=t/u,n=e/p,a=0-(t-h.width()),l=0-(e-h.height());g.squareOverlay&&(t=u/t*u,v.css("height",p/e*p),v.css("width",t)),r.on("mousemove touchmove",function(t){var e=t.pageX||t.originalEvent.touches[0].pageX,t=t.pageY||t.originalEvent.touches[0].pageY,i=(m=r.offset(),p/2-(t-m.top)*n),i=Math.max(i,l),o=(i=Math.min(i,0),u/2-(e-m.left)*s),o=Math.max(o,a);o=Math.min(o,0),d.css("top",i),d.css("left",o),g.squareOverlay&&(i=t-m.top-v.height()/2,i=Math.max(i,0),i=Math.min(i,p-v.height()),o=e-m.left-v.width()/2,o=Math.max(o,0),o=Math.min(o,u-v.width()),v.css("top",i),v.css("left",o))})}),e.on("extmdestroy",function(){i.remove(),t.squareOverlay&&o.remove()}),e.on("updateImage",function(t,e){n.attr("src",e)})}i.lazy?10<b(this).width()&&10<b(this).height()?b(this).one("mouseenter touchstart",function(){o(i,b(this))}):b(this).one("load",function(){b(this).one("mouseenter touchstart",function(){o(i,b(this))})}):10<b(this).width()&&10<b(this).height()?o(i,b(this)):b(this).one("load",function(){o(i,b(this))})},extmDestroy:function(){b(this).trigger("extmdestroy")},extmImageUpdate:function(t){b(this).trigger("updateImage",t)}})}(jQuery);
